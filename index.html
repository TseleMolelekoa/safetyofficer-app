<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafetyOfficer Web App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-overlay" id="loading-spinner">
        <div class="spinner"></div>
        <p>Loading SafetyOfficer App...</p>
    </div>

    <!-- Login/Register Screen -->
    <div class="login-screen" id="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h2>SafetyOfficer App</h2>
                <p>Please login or register to continue</p>
            </div>
            
            <div class="login-tabs">
                <div class="login-tab active" data-tab="login">Login</div>
                <div class="login-tab" data-tab="register">Register</div>
            </div>
            
            <!-- Login Form -->
            <form id="main-login-form" class="login-form active">
                <div class="form-group">
                    <label for="main-login-email">Email or Username</label>
                    <input type="text" id="main-login-email" required>
                    <div class="error-message" id="main-login-email-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-login-password">Password</label>
                    <input type="password" id="main-login-password" required>
                    <div class="error-message" id="main-login-password-error"></div>
                </div>
                
                <button type="submit" style="width: 100%;">Login</button>
            </form>
            
            <!-- Registration Form -->
            <form id="main-register-form" class="login-form">
                <div class="form-group">
                    <label for="main-first-name">First Name</label>
                    <input type="text" id="main-first-name" required>
                    <div class="error-message" id="main-first-name-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-last-name">Last Name</label>
                    <input type="text" id="main-last-name" required>
                    <div class="error-message" id="main-last-name-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-email">Email</label>
                    <input type="email" id="main-email" required>
                    <div class="error-message" id="main-email-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-password">Password</label>
                    <input type="password" id="main-password" required>
                    <div class="error-message" id="main-password-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-position">Position</label>
                    <select id="main-position" required>
                        <option value="">Select Position</option>
                        <option value="supervisor">Supervisor</option>
                        <option value="miner">Miner</option>
                        <option value="safetyofficer">Safety Officer</option>
                    </select>
                    <div class="error-message" id="main-position-error"></div>
                </div>
                
                <div class="form-group">
                    <label for="main-employee-number">Employee Number (Auto-generated)</label>
                    <input type="text" id="main-employee-number" readonly>
                </div>
                
                <div class="form-group">
                    <label for="main-username">Username (Auto-generated)</label>
                    <input type="text" id="main-username" readonly>
                </div>
                
                <button type="submit" style="width: 100%;">Register</button>
            </form>
        </div>
    </div>

    <!-- Main Application Content (Hidden until logged in) -->
    <div class="app-content" id="app-content">
        <div class="container">
            <header>
                <div class="app-title">
                    <div class="logo">SafetyOfficer Web App</div>
                    <div id="header-right">
                        <div id="user-info" class="user-info">
                            <div class="user-avatar" id="user-avatar">U</div>
                            <div>
                                <div id="user-display-name">User</div>
                                <div id="user-role" style="font-size: 12px;">Role</div>
                            </div>
                        </div>
                        <div class="auth-buttons">
                            <button class="auth-btn" id="logout-btn">Logout</button>
                        </div>
                    </div>
                </div>
            </header>
            
            <div class="main-content">
                <div class="sidebar">
                    <h3>Modules</h3>
                    <ul class="module-list">
                        <li class="module-item active" data-target="pre-shift">Pre-Shift Roll Call</li>
                        <li class="module-item" data-target="checklists">Safety Checklists</li>
                        <li class="module-item" data-target="hazards">Hazard Reporting</li>
                        <li class="module-item" data-target="work-permits">Safe Work Permits</li>
                        <li class="module-item" data-target="vehicle-permits">Vehicle Permits</li>
                        <li class="module-item" data-target="reports">Reports & Data</li>
                    </ul>
                    
                    <div class="data-actions">
                        <button id="export-btn" class="btn-export">Export Data</button>
                        <button id="clear-btn" class="btn-clear">Clear Data</button>
                    </div>
                </div>
                
                <div class="content-area">
                    <!-- Pre-Shift Module -->
                    <div id="pre-shift" class="module-content active">
                        <h2>Pre-Shift Roll Call</h2>
                        <div class="form-group">
                            <label for="worker-id">Worker ID</label>
                            <input type="text" id="worker-id" placeholder="Enter your worker ID">
                        </div>
                        <div class="form-group">
                            <label for="supervisor">Supervisor</label>
                            <input type="text" id="supervisor" placeholder="Supervisor name">
                        </div>
                        <div class="form-group">
                            <label for="shift">Shift</label>
                            <select id="shift">
                                <option value="day">Day Shift</option>
                                <option value="night">Night Shift</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" placeholder="Mine section/location">
                        </div>
                        <button id="submit-rollcall">Submit Roll Call</button>
                    </div>
                    
                    <!-- Checklists Module -->
                    <div id="checklists" class="module-content">
                        <h2>Safety Checklists</h2>
                        <!-- ... (existing checklist content) ... -->
                    </div>
                    
                    <!-- Hazards Module -->
                    <div id="hazards" class="module-content">
                        <h2>Hazard Reporting</h2>
                        <!-- ... (existing hazard content) ... -->
                    </div>
                    
                    <!-- Safe Work Permits Module -->
                    <div id="work-permits" class="module-content">
                        <h2>Safe Work Permits</h2>
                        <div class="form-group">
                            <label for="permit-type">Permit Type</label>
                            <select id="permit-type">
                                <option value="hot-work">Hot Work Permit</option>
                                <option value="confined-space">Confined Space Entry</option>
                                <option value="electrical">Electrical Work</option>
                                <option value="excavation">Excavation Permit</option>
                                <option value="height-work">Working at Height</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-location">Work Location</label>
                            <input type="text" id="permit-location" placeholder="Exact location of work">
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-description">Work Description</label>
                            <textarea id="permit-description" rows="3" placeholder="Detailed description of the work to be performed..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-start">Start Date & Time</label>
                            <input type="datetime-local" id="permit-start">
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-end">End Date & Time</label>
                            <input type="datetime-local" id="permit-end">
                        </div>
                        
                        <div class="checklist-section">
                            <h3 class="checklist-header">Safety Precautions</h3>
                            <div class="checklist-grid">
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-1">
                                    <label for="precaution-1">Area barricaded and signs posted</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-2">
                                    <label for="precaution-2">Fire extinguisher available</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-3">
                                    <label for="precaution-3">Atmospheric testing completed</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-4">
                                    <label for="precaution-4">Emergency procedures established</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-5">
                                    <label for="precaution-5">Lockout/tagout procedures implemented</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="precaution-6">
                                    <label for="precaution-6">Rescue equipment available</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-issuer">Permit Issuer</label>
                            <input type="text" id="permit-issuer" placeholder="Name of safety officer issuing permit">
                        </div>
                        
                        <div class="form-group">
                            <label for="permit-receiver">Permit Receiver</label>
                            <input type="text" id="permit-receiver" placeholder="Name of person receiving permit">
                        </div>
                        
                        <button id="submit-permit">Issue Work Permit</button>
                    </div>
                    
                    <!-- Vehicle Permits Module -->
                    <div id="vehicle-permits" class="module-content">
                        <h2>Vehicle Permits</h2>
                        <div class="form-group">
                            <label for="vehicle-type">Vehicle Type</label>
                            <select id="vehicle-type">
                                <option value="light">Light Vehicle</option>
                                <option value="heavy">Heavy Vehicle</option>
                                <option value="mobile-plant">Mobile Plant</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-registration">Registration Number</label>
                            <input type="text" id="vehicle-registration" placeholder="Vehicle registration number">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-make">Make & Model</label>
                            <input type="text" id="vehicle-make" placeholder="Vehicle make and model">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-driver">Driver Name</label>
                            <input type="text" id="vehicle-driver" placeholder="Name of driver">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-area">Operating Area</label>
                            <input type="text" id="vehicle-area" placeholder="Area where vehicle will operate">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-purpose">Purpose of Operation</label>
                            <textarea id="vehicle-purpose" rows="3" placeholder="Purpose of vehicle operation..."></textarea>
                        </div>
                        
                        <div class="checklist-section">
                            <h3 class="checklist-header">Vehicle Safety Checklist</h3>
                            <div class="checklist-grid">
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-1">
                                    <label for="vehicle-check-1">Brakes functioning properly</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-2">
                                    <label for="vehicle-check-2">Lights and indicators working</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-3">
                                    <label for="vehicle-check-3">Fire extinguisher present</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-4">
                                    <label for="vehicle-check-4">Seat belts functional</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-5">
                                    <label for="vehicle-check-5">Reverse alarm working</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-6">
                                    <label for="vehicle-check-6">ROPS/FOPS certified</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-7">
                                    <label for="vehicle-check-7">No visible fluid leaks</label>
                                </div>
                                <div class="checklist-item">
                                    <input type="checkbox" id="vehicle-check-8">
                                    <label for="vehicle-check-8">Tires in good condition</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-issuer">Permit Issuer</label>
                            <input type="text" id="vehicle-issuer" placeholder="Name of safety officer issuing permit">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-validfrom">Valid From</label>
                            <input type="datetime-local" id="vehicle-validfrom">
                        </div>
                        
                        <div class="form-group">
                            <label for="vehicle-validto">Valid To</label>
                            <input type="datetime-local" id="vehicle-validto">
                        </div>
                        
                        <button id="submit-vehicle-permit">Issue Vehicle Permit</button>
                    </div>
                    
                    <!-- Reports Module -->
                    <div id="reports" class="module-content">
                        <h2>Reports & Data</h2>
                        
                        <div class="card">
                            <div class="card-title">Roll Call Records</div>
                            <div id="rollcall-data">No data available</div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Checklist Completions</div>
                            <div id="checklist-data">No data available</div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Hazard Reports</div>
                            <div id="hazard-data">No data available</div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Work Permits Issued</div>
                            <div id="permit-data">No data available</div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Vehicle Permits Issued</div>
                            <div id="vehicle-permit-data">No data available</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <footer>
                <p>Tech-Hubris Africa Pty Ltd &copy; 2025 | SafetyOfficer Web App Prototype</p>
            </footer>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>